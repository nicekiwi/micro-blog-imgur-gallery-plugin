!function(){const e=window.imgurGalleryPlugin;if(!e)return;var t;t=(()=>{document.querySelectorAll(".imgur-gallery").forEach((t,n)=>{const a=t.getAttribute("data-id");t.innerHTML=`<div class="loading-message">${t.getAttribute("data-loading-message")||"Loading..."}</div>`,(t=>new Promise((n,a)=>{let i=new XMLHttpRequest;i.open("GET",e.api.url+t,!0),i.setRequestHeader("Authorization",`Client-ID ${e.api.clientId}`),i.onload=(()=>{try{n(JSON.parse(i.responseText))}catch(e){a(e)}}),i.onerror=a,i.send()}))(a).then(a=>((t,n,a)=>{const i=a.data;let s=document.createElement("div");if(s.className=`thumbnail-box thumbnail-box-${n}`,t.querySelector(".loading-message").remove(),t.getAttribute("data-title")){let e=document.createElement("div");e.className="title-box",e.insertAdjacentHTML("beforeend",`\n        <div class=title>\n          <b>${t.getAttribute("data-title-text")||i.title||"Photo Gallery"}</b>\n          <span class="count">(${i.images_count})</span>\n        </div>\n      `),t.appendChild(e)}i.images.length&&(i.images.forEach((e,t)=>{s.insertAdjacentHTML("beforeend",((e,t)=>`\n      <div class=thumbnail>\n        <a href="https://i.imgur.com/${t}h.jpg" target="_blank" data-caption="${e}">\n          <img src="https://i.imgur.com/${t}b.jpg" alt="${e}" />\n        </a>\n      </div>\n    `)(e.description||`${i.title} (${t})`,e.id))}),t.getAttribute("data-nsfw")&&((e,t)=>{let n=t.getAttribute("data-nsfw-message")||"Gallery images have been hidden",a=t.getAttribute("data-nsfw-link")||"Click here to reveal images";t.insertAdjacentHTML("beforeend",`\n      <div class=nsfw-message>\n        <p>${n}<br><small><b>${a}</b></small></p>\n      </div>\n    `),e.style.display="none";let i=t.querySelector(".nsfw-message");i.addEventListener("click",t=>{i.style.display="none",e.style.display=""})})(s,t),t.appendChild(s),e.customLightbox||baguetteBox.run(`.thumbnail-box-${n}`))})(t,n,a)).catch(e=>{t.style.display="none",console.error(e)})})}),"loading"!=document.readyState?setTimeout(t,10):document.addEventListener("DOMContentLoaded",t)}();